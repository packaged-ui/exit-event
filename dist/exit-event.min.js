var ExitEvent=function(e){"use strict";const t=new WeakMap;function n(e=document,n=60){if(e instanceof Document&&(e=e.documentElement),t.has(e))return t.get(e);const o=new Set,d={add:function(e){return o.add(e),this},remove:function(e){return o.delete(e),this},clear:function(){return o.clear(),this}};t.set(e,d);let i=0;return e.addEventListener("mousemove",(e=>{(e.movementX||e.movementY)&&(i=Date.now())})),e.addEventListener("mouseout",(t=>{if(e!==t.target)return;const d=Date.now()-i;if(0===d||d>50)return;const a=e.clientWidth||window.innerWidth,r=e.clientHeight||window.innerHeight,u=new Set;if(t.offsetX<=0&&u.add("left"),t.offsetX>=a&&u.add("right"),t.offsetY<=0&&u.add("top"),t.offsetY>=r&&u.add("bottom"),u.size>0){t.offsetX<n&&u.add("left"),t.offsetX>a-n&&u.add("right"),t.offsetY<n&&u.add("top"),t.offsetY>r-n&&u.add("bottom");const e={positions:Array.from(u.values())};for(let t of o)t(e)}})),d}var o=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var d=function(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?o:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};return n(document).add((e=>{const t=new d("document-exit",{detail:e,bubbles:!0,composed:!0});document.dispatchEvent(t)})),e.ExitSignal=n,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
